// -p collapse-control
import "primitives/core.futil";

component main() -> () {
  cells {
    r = std_reg(1);
  }
  wires {
    group A {
      A[done] = r.done;
    }
    group B {
      B[done] = r.done;
    }
    group C {
      C[done] = r.done;
    }
    group D {
      D[done] = r.done;
    }
    group A___ {
      A___[done] = r.done;
    }
  }
  control {
    seq {
      seq { A; B; seq { C; D; }}
      A___;
      par { A; par { B; C; } D; }
      A___;
      seq { A; seq { B; } C; }
      A___;
      par { A; par { B; } C; }
      A___;
      par { A; seq { B; C; } D; }
      A___;
      seq { A; par { B; C; } D; }
    }
  }
}
